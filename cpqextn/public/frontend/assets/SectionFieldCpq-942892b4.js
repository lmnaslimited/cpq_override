import{S as C}from"./useActiveTabManager-eb58b00a.js";import{_ as h,r as b,b as t,g as u,w as y,c as r,F as g,f as v,d as S,u as V,e as i,t as k,p as F,x as w,z as U}from"./index-d057f33a.js";import{_ as B,h as L}from"./UserAvatar-e49c5291.js";const q={key:0,class:"flex flex-col mt-2"},N={class:"flex items-center"},T={class:"sm:w-[106px] w-36 shrink-0 truncate text-sm text-gray-600"},E={class:"flex-1"},$={__name:"SectionFieldCpq",props:{fields:{type:Object},isLastSection:{type:Boolean,default:!1}},setup(_){let m=null;const x=(s,c,l,n,a)=>{clearTimeout(m),m=setTimeout(()=>{f(s,c,l,n,a)},500)},f=(s,c,l,n,a)=>{w({url:"crm.api.docCpq.update_child_table",method:"PUT",params:{child_doctype:s,parent_docName:c,target_field:l,new_value:n},debounce:500,onSuccess(p){U(`${a}_updated`),L({title:__(`${a} Updated`),icon:"check",iconClasses:"text-green-600"})},onError(p){console.error("Error updating resource:",p)}}).submit()};return(s,c)=>{const l=b("FormControl");return t(),u(C,{fields:_.fields,isLastSection:_.isLastSection},{children:y(({fields:n,data:a,emit:p})=>[(t(!0),r(g,null,v(n,d=>(t(),r("div",null,[d.children&&d.children.length>0?(t(),r("div",q,[(t(!0),r(g,null,v(d.children,e=>(t(),r("div",{key:e.name,class:"flex items-center justify-between gap-2 px-3"},[S(V(B),{text:s.__(e.label),hoverDelay:1},{default:y(()=>[i("div",N,[i("span",T,k(s.__(e.label)),1)])]),_:2},1032,["text"]),i("div",E,[e.type==="select"?(t(),u(l,{key:0,class:"form-control",type:"select",options:e.options,modelValue:e.value,"onUpdate:modelValue":o=>e.value=o,placeholder:e.placeholder,debounce:500,onChange:o=>f(e.doctype,e.parent,e.label,o.target.value,a.doctype)},null,8,["options","modelValue","onUpdate:modelValue","placeholder","onChange"])):(t(),u(l,{key:1,class:"form-control",type:"text",modelValue:e.value,"onUpdate:modelValue":o=>e.value=o,placeholder:e.placeholder,debounce:500,onChange:o=>x(e.doctype,e.parent,e.label,o.target.value,a.doctype)},null,8,["modelValue","onUpdate:modelValue","placeholder","onChange"]))])]))),128))])):F("",!0)]))),256))]),_:1},8,["fields","isLastSection"])}}},z=h($,[["__scopeId","data-v-00a23aea"]]);export{z as S};
//# sourceMappingURL=SectionFieldCpq-942892b4.js.map
