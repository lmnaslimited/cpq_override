import{_ as k,m as w,i as T,j as V,z as I,r as c,b as s,c as r,F as C,f as D,e as u,t as p,g as m,w as _,u as d,p as f,d as v}from"./index-d057f33a.js";import{_ as A}from"./Dropdown.vue_vue_type_script_setup_true_lang-bf1a1150.js";import{t as L,d as h,f as M,_ as N,c as x}from"./UserAvatar-e49c5291.js";import{s as j}from"./statuses-72592e37.js";import"./useActiveTabManager-eb58b00a.js";const R={class:"flex flex-col gap-1.5 border-b sm:px-6 py-3 px-4"},$={class:"sm:w-[106px] w-36 text-sm text-gray-600"},z={class:"grid min-h-[28px] items-center"},E={class:"ml-2 cursor-pointer"},q={key:1},G={__name:"SLASection",props:{modelValue:{},modelModifiers:{}},emits:w(["updateField"],["update:modelValue"]),setup(g,{emit:b}){const a=T(g,"modelValue"),y=b,{communicationStatuses:F}=j();let S=V(()=>{var i;let o=[],t=a.value.sla_status,l=t,n=a.value.sla_status=="Failed"?"red":a.value.sla_status=="Fulfilled"?"green":"orange";return t=="First Response Due"?(t=L(a.value.response_by),t=="just now"&&(t="In less than a minute"),l=h(a.value.response_by,x),new Date(a.value.response_by)<new Date&&(n="red",t==__("In less than a minute")&&(t="less than a minute ago"))):["Fulfilled","Failed"].includes(t)&&(t=__(t)+" in "+M(a.value.first_response_time),l=h(a.value.first_responded_on,x)),o.push({label:"First Response",type:"Badge",value:__(t),tooltipText:l,color:n},{label:"Status",value:a.value.communication_status,type:"Select",options:(i=F.data)==null?void 0:i.map(e=>({label:e.name,value:e.name,onClick:()=>{I("sla_status_change"),y("updateField","communication_status",e.name)}}))}),o});return(o,t)=>{const l=c("Badge"),n=c("FeatherIcon"),i=c("Button");return s(),r("div",R,[(s(!0),r(C,null,D(d(S),e=>(s(),r("div",{key:e.label,class:"flex items-center gap-2 text-base leading-5"},[u("div",$,p(o.__(e.label)),1),u("div",z,[e.tooltipText?(s(),m(d(N),{key:0,text:o.__(e.tooltipText)},{default:_(()=>[u("div",E,[e.type=="Badge"?(s(),m(l,{key:0,class:"-ml-1",label:e.value,variant:"subtle",theme:e.color},null,8,["label","theme"])):(s(),r("div",q,p(e.value),1))])]),_:2},1032,["text"])):f("",!0),e.type=="Select"?(s(),m(d(A),{key:1,class:"form-control",options:e.options},{default:_(({open:B})=>[v(i,{label:e.value},{suffix:_(()=>[v(n,{name:B?"chevron-up":"chevron-down",class:"h-4"},null,8,["name"])]),_:2},1032,["label"])]),_:2},1032,["options"])):f("",!0)])]))),128))])}}},Q=k(G,[["__scopeId","data-v-e4e39f41"]]);export{Q as S};
//# sourceMappingURL=SLASection-51b98e40.js.map
